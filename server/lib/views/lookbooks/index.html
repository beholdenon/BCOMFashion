<!--headCanonical={"href":"/b/lookbooks/"}-->
<title>Lookbooks &amp; Guides | Bloomingdale&rsquo;s</title>
<meta name="description" content="Bloomingdale's Lookbooks"/>

<link href="/b/fashion/styles/projects/lookbooks/syndeca-projects/style.css" rel="stylesheet" type="text/css" />

<div class="desktop_main_container">
    <div id="syndeca" style="height: 711px;"></div>
    <script id="syndeca-embed-script" 
            src                      = "//5.syndeca.com/bloomingdales/scripts/syndeca-embed.js" 
            type                     = "text/javascript"
            data-id				           = "syndeca"
            data-guide-key 				   = "419BBAE7-28FD-5E12-F297-A6135CDB21BD"
            data-post-message-domain = "fashion.bloomingdales.com"
            data-brand-quick-view-enabled = "false"
    ></script>
    <script>document.getElementById('syndeca-embed-script').setAttribute('data-post-message-domain', window.location.hostname);</script>
    <button class="desktop_back_to_top"><img class="desktop_back_to_top_img" src="/b/fashion/images/projects/lookbooks/syndeca-projects/desktop_back_to_top.jpg" alt=""></button>
</div>

<script type="application/javascript" src="/b/fashion/javascripts/libs/jquery-1.11.2.min.js"></script>
<script type="application/javascript" src="//5.syndeca.com/bloomingdales/scripts/add-to-bag.js"></script>
<script type="application/javascript" src="/b/fashion/javascripts/projects/lookbooks/syndeca-projects/main-desktop.js"></script>

<script>
  (function() {
    // the syndecaOrigin must match the same domain as the Syndeca amd-embed source
    var syndecaOrigin = window.location.protocol + '//';

    // find syndeca domain based on viewer embed script
    var scripts = document.getElementsByTagName('script');
    for (var i = 0; i < scripts.length; i++) {
      var scriptSrc  = scripts[i].getAttribute('src');
      if (scriptSrc && scriptSrc.indexOf('scripts/syndeca-embed.js') >= 0) {
        syndecaOrigin += scriptSrc.split("/")[2];
        break;
      }
    }

    // store original size of syndeca for iframe resize actions later
    var syndecaOriginalHeight = document.getElementById('syndeca').clientHeight;

    // receive syndeca post messages
    function receiveSyndecaMessage(event) {

      // ensure only syndeca domain as valid sender
      if (event.origin !== syndecaOrigin) {
        console.log("[SYN] recevied message from invalid domain: ", event.origin, syndecaOrigin);
        return;
      }
      var message = JSON.parse(event.data);
      console.log('message recevied:', message);
      var product = message.product;

      // only respond to syndeca events
      switch (message.action) {
        case "init":
          break;
        case "quickView":
          console.log("[SYN] quickView", product.id);
          alert("You launched quickview for " + product.id + " with data: " + message.data);
          // client to add call to brand's quick view here
          break;
        case "addToBag":
          console.log("[SYN] addToBag", product.id, product.sku, product.quantity);
          // client to add call to brand's add to bag here
          break;
        case "addToFavorites":
          console.log("[SYN] addToFavorites", product.id, product.sku);
          // client to add call to brand's add to favorites here
          break;
        case "resize": 
          // resize the iframe when viewer content changes
          // defaults to the original height set by this template
          var newHeight = syndecaOriginalHeight;
          if (message.height > 0) {
             newHeight = message.height;
          }
          document.getElementById('syndeca').style.height = newHeight + 'px';
          break;
      }
    }

    // reposition nav when parent window is scrolled
    function scrollHandler(event) {
      var msg = {};
      msg.action = "scroll";
      msg.windowScrollY = window.scrollY;
      msg.syndecaOffsetTop = document.getElementById('syndeca').offsetTop;
      document.getElementById('syndeca-viewer-frame').contentWindow.postMessage(JSON.stringify(msg), syndecaOrigin);
    }

    // setup event listeners for post message
    window.addEventListener("message", receiveSyndecaMessage, false);
    window.addEventListener("scroll", scrollHandler);

  })();
</script>